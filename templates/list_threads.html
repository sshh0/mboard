{% extends '_base.html' %}
{% load i18n %}
{% block content %}
  <div class="container threadList">
    {% translate 'New thread' as btn %}
    {% include 'postform.html' with postformbutton=btn %}
    <div id="discoverDiv">
      <hr>
      <button class="btn btn-primary" id="discoverBtn">Discover</button>
      <span id="discoverInfo"></span>
      <div id="discoverBox"></div>
      <hr>
    </div>
    {% for thread, posts in threads.items %}
      <section class="thread" data-threadid="{{ thread.pk }}">
        {% include 'OPpost.html' %}
        {% for post in posts %}
          {% include 'post.html' %}
        {% endfor %}
      </section>
      <div class="postcount">{% translate 'Posts in the thread:' %} {{ thread.post_set.all|length|add:1 }}</div>
      <hr>
    {% endfor %}
    <br>
    {% include 'pagination.html' %}
    {% include 'quickpostform.html' %}
  </div>
{% endblock content %}
